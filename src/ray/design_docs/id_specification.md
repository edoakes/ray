Ray ID Specification
============================================
```

 high bits                                                                           low bits
<--------------------------------------------------------------------------------------------

                                                                                   3B
                                                                          +-----------------+
                                                                          |   unique bytes  |  JobID     3B
                                                                          +-----------------+

                                                                 4B                3B
                                                        +-----------------+-----------------+
                                                        |   unique bytes  |       JobID     |  ActorID   7B
                                                        +-----------------+-----------------+

                                        8B                               7B
                            +---------------------------+-----------------------------------+
                            |       unique bytes        |               ActorID             |  TaskID   15B
                            +---------------------------+-----------------------------------+

       4B            1B                                    15B
+---------------------------+---------------------------------------------------------------+
|  index bytes  |flags byte |                             TaskID                            |  ObjectID 20B
+---------------------------+---------------------------------------------------------------+

```
#### JobID (3 bytes)
`JobID` is generated by `GCS` to ensure uniqueness. Its length is 3 bytes.

#### ActorID (6 bytes)
An `ActorID` contains two parts: 1) 4 unique bytes, and 2) its `JobID`.

#### TaskID (14 bytes)
A `TaskID` contains two parts: 1) 8 unique bytes, and 2) its `ActorID`.  
If the task is a normal task or a driver task, the part 2 is its dummy actor id.

The following table shows the layouts of all kinds of task id.
```
+-------------------+-----------------+------------+---------------------------+-----------------+
|                   | Normal Task     | Actor Task | Actor Creation Task       | Driver Task     |
+-------------------+-----------------+------------+---------------------------+-----------------+
| task unique bytes | random          | random     | nil                       | nil             |
+-------------------+-----------------+------------+---------------------------+-----------------+
| actor id          | dummy actor id* | actor id   | Id of the actor to create | dummy actor id* |
+-------------------+-----------------+------------+---------------------------+-----------------+
Note: Dummy actor id is an `ActorID` whose unique part is nil.
```

#### ObjectID (20 bytes)
An `ObjectID` contains 3 parts:
- `index bytes`: 4 bytes to indicate the index of the object.
- `flags byte`: 1 byte to indicate the flags of this object. We have 2 flags now: `created_by_task` and `object_type`.
- `TaskID`: 15 bytes to indicate the ID of the task to which this object belongs.

**flags bytes format**
```
  1b    1b                6b
+--------------------------------------------+
| (1) | (2) |          (4)unused             |
+--------------------------------------------+
```
- The (1) `created_by_task` part is one bit to indicate whether this `ObjectID` is generated (put or returned) from a task.

- The (2) `object_type` part is one bit to indicate the type of this object, whether a `PUT_OBJECT` or a `RETURN_OBJECT`.
    - `PUT_OBJECT` indicates this object is generated through `ray.put` during the task's execution.
    - `RETURN_OBJECT` indicates this object is the return value of a task.

- There are 6 bits unused in `flags bytes`.
